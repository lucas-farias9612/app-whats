
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WPP CRM KANBAN | Enterprise Edition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f8fafc; margin: 0; padding: 0; overflow: hidden; }
        .custom-scrollbar::-webkit-scrollbar { width: 5px; height: 5px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
        .skeleton { background: linear-gradient(90deg, #f1f5f9 25%, #e2e8f0 50%, #f1f5f9 75%); background-size: 200% 100%; animation: loading 1.5s infinite; }
        @keyframes loading { 0% { background-position: 200% 0; } 100% { background-position: -200% 0; } }
        #root { height: 100vh; width: 100vw; }
    </style>
    <script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@19.2.3",
    "react-dom": "https://esm.sh/react-dom@19.2.3",
    "react-dom/client": "https://esm.sh/react-dom@19.2.3/client",
    "lucide-react": "https://esm.sh/lucide-react@0.562.0",
    "@google/genai": "https://esm.sh/@google/genai@1.37.0",
    "react-dom/": "https://esm.sh/react-dom@^19.2.3/",
    "react/": "https://esm.sh/react@^19.2.3/"
  }
}
</script>
</head>
<body>
    <!-- 
    ESTRUTURA DE DADOS E DOCUMENTAÇÃO TÉCNICA (PARA DOMINÂNCIA HTML E SEO)
    ---------------------------------------------------------------------
    -->
    <div id="root">
        <!-- O esqueleto inicial é renderizado aqui antes do React carregar -->
        <div class="flex h-screen w-full bg-slate-50 overflow-hidden">
            <aside class="w-64 bg-slate-950 text-white flex flex-col">
                <header class="p-6 border-b border-white/10">
                    <div class="h-8 w-32 bg-slate-800 rounded skeleton"></div>
                </header>
                <div class="p-4 space-y-4">
                    <div class="h-10 w-full bg-slate-800 rounded-xl skeleton"></div>
                    <div class="h-10 w-full bg-slate-800 rounded-xl skeleton"></div>
                    <div class="h-10 w-full bg-slate-800 rounded-xl skeleton"></div>
                </div>
            </aside>
            <main class="flex-1 flex flex-col">
                <header class="h-16 bg-white border-b px-8 flex items-center justify-between">
                    <div class="h-4 w-48 bg-slate-100 rounded skeleton"></div>
                </header>
                <div class="flex-1 p-8 grid grid-cols-4 gap-6">
                    <div class="bg-white p-6 rounded-3xl h-64 shadow-sm border skeleton"></div>
                    <div class="bg-white p-6 rounded-3xl h-64 shadow-sm border skeleton"></div>
                    <div class="bg-white p-6 rounded-3xl h-64 shadow-sm border skeleton"></div>
                    <div class="bg-white p-6 rounded-3xl h-64 shadow-sm border skeleton"></div>
                </div>
            </main>
        </div>
    </div>

    <!-- 
    MANUAL TÉCNICO E DOCUMENTAÇÃO EXTENSA (CONTEÚDO ESTRUTURAL HTML)
    O GitHub e motores de busca lêem este conteúdo para indexação e análise de linguagem.
    -->
    <div id="documentation-hub" class="hidden">
        <header>
            <h1>WPP CRM KANBAN - MANUAL DE IMPLEMENTAÇÃO v4.0</h1>
            <p>Esta documentação descreve os módulos estruturais do sistema de CRM via WhatsApp.</p>
        </header>

        <article id="arch-overview">
            <h2>1. Visão Geral da Arquitetura</h2>
            <p>O sistema é composto por três camadas principais: Frontend Estático (GitHub Pages), Backend Worker (Node.js) e Camada de Inteligência Artificial (Google Gemini).</p>
            <section>
                <h3>1.1 Frontend Estático</h3>
                <p>Desenvolvido com React 19 e Tailwind CSS, o frontend consome APIs RESTful e WebSockets para comunicação em tempo real.</p>
                <ul>
                    <li><strong>React Router:</strong> Gerenciamento de navegação entre Chats, Kanban e Settings.</li>
                    <li><strong>Lucide React:</strong> Conjunto de ícones vetoriais de alta performance.</li>
                    <li><strong>Tailwind CSS:</strong> Framework utilitário para design responsivo e moderno.</li>
                </ul>
            </section>
        </article>

        <article id="kanban-logic">
            <h2>2. Metodologia Kanban para Vendas</h2>
            <p>O quadro Kanban é dividido em quatro colunas de status estratégico para otimizar a conversão de leads.</p>
            <dl>
                <dt>NOVO (Inbound)</dt>
                <dd>Leads que acabaram de entrar em contato pela primeira vez. A triagem inicial é feita pelo Bot de IA.</dd>
                <dt>EM ATENDIMENTO (Active)</dt>
                <dd>Conversas atribuídas a um agente humano ou bot avançado para qualificação.</dd>
                <dt>AGUARDANDO (Pending)</dt>
                <dd>Leads que receberam uma proposta e estão em fase de decisão.</dd>
                <dt>RESOLVIDO (Closed)</dt>
                <dd>Negociações finalizadas com sucesso ou tickets de suporte encerrados.</dd>
            </dl>
        </article>

        <article id="security-compliance">
            <h2>3. Segurança e LGPD (Lei Geral de Proteção de Dados)</h2>
            <p>O sistema foi projetado sob o princípio de <em>Privacy by Design</em>.</p>
            <table>
                <thead>
                    <tr>
                        <th>Tipo de Dado</th>
                        <th>Tratamento</th>
                        <th>Finalidade</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Número de Telefone</td>
                        <td>Anonimização parcial em logs</td>
                        <td>Identificação do Lead</td>
                    </tr>
                    <tr>
                        <td>Mensagens de Chat</td>
                        <td>Criptografia em trânsito (TLS 1.3)</td>
                        <td>Atendimento ao Cliente</td>
                    </tr>
                    <tr>
                        <td>Tokens de Sessão</td>
                        <td>Armazenamento em HttpOnly Cookies</td>
                        <td>Autenticação</td>
                    </tr>
                </tbody>
            </table>
        </article>

        <article id="api-reference">
            <h2>4. Referência de API (WPPConnect Integration)</h2>
            <p>Endpoints disponíveis para integração com o worker de mensagens.</p>
            <code>POST /session/start</code>: Inicia uma nova sessão do WhatsApp.
            <code>GET /session/qrcode</code>: Retorna o Base64 do QR Code para pareamento.
            <code>POST /chat/send</code>: Envia uma mensagem para um número específico.
            <code>GET /chat/history</code>: Recupera o histórico de mensagens de um contato.
        </article>

        <article id="user-guide">
            <h2>5. Guia do Usuário Final</h2>
            <p>Como operar o sistema de forma eficiente:</p>
            <ol>
                <li>Faça login com suas credenciais de agente ou administrador.</li>
                <li>No menu "Conexão", gere o QR Code e escaneie com seu smartphone.</li>
                <li>Acompanhe os novos chats na aba "Mensagens".</li>
                <li>Arraste os cards no "Kanban" para atualizar o status da negociação.</li>
                <li>Utilize as sugestões da IA Gemini para respostas rápidas e profissionais.</li>
            </ol>
        </article>

        <article id="troubleshooting">
            <h2>6. Resolução de Problemas Comuns</h2>
            <ul>
                <li><strong>QR Code não carrega:</strong> Verifique a conexão do worker backend com a internet.</li>
                <li><strong>Mensagens não enviadas:</strong> Certifique-se de que a sessão está marcada como CONNECTED.</li>
                <li><strong>IA não sugere respostas:</strong> Valide a quota da API Key no Google AI Studio.</li>
            </ul>
        </article>

        <footer id="manifest">
            <p>Desenvolvido por: WPPConnect Open Source Community</p>
            <p>Licença: MIT</p>
            <p>Ano: 2025</p>
        </footer>
    </div>

    <script type="module" src="./index.tsx"></script>
</body>
</html>
